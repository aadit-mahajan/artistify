from locust import HttpUser, task, between

class testUser(HttpUser):
    wait_time = between(1, 2)

    @task
    def test_task(self):
        self.client.post(
            '/generate_soundtrack',
            json = {
                'storyline': "In a world populated by anthropomorphic vehicles, the Dinoco 400 race is the last of the Piston Cup season. The event intensifies a rivalry between the retiring seven-time champion, Strip \"The King\" Weathers, the cunning Chick Hicks, and the talented but overconfident rookie, Lightning McQueen, who are all tied for the most points. Desperate to win and leave the unglamorous sponsorship of Rust-eze for the prestigious Dinoco, Lightning struggles with teamwork due to his self-centered attitude. During the race, Lightning refuses to take new tires, causing his rear tires to blow out before he can win. The race ends in a three-way tie between the leaders, setting the stage for a decisive race at the Los Angeles International Speedway in one week. After the race, Lightning rushes through the night on the interstate to reach California inside his transport truck Mack. A mishap leaves Lightning stranded alone in the rundown desert town of Radiator Springs, Arizona. Here, he inadvertently damages the main road, leading to him being sentenced to a community service assignment of repaving the road under the supervision of the town's judge, Doc Hudson, who is prejudiced against Lightning for being a race car. Lightning repaves the road shoddily in a rush to leave, and Doc challenges him to a race for his freedom, on the condition that he starts over from scratch if he loses. The overconfident Lightning, having never raced on a dirt road before, spins out on a turn and crashes into a cactus patch, with Doc having set up the race to dampen his ego. Over time, Lightning warms up to and befriends the town's residents, especially Mater, a rusty tow truck, and Sally, who dreams of reviving Radiator Springs. As he bonds with the locals, Lightning helps rejuvenate Radiator Springs and develops a newfound appreciation for its charm. He discovers the town was once a bustling attraction for drivers on Route 66, before the construction of the interstate caused them to lose all their business traffic. Lightning also discovers that the bitter Doc, reticent about his past, used to race as the legendary Hudson Hornet until a disastrous crash ended his career. Lightning is dumbfounded that Doc considers his previous Piston Cups worthless junk. Lightning finishes repairing the road and decides to spend an extra day in Radiator Springs helping the local businesses, but Doc alerts the media to Lightning's location, leading them and Mack to descend on the town and force Lightning to leave in time for the race. Doc regrets his actions after seeing the residents disappointed by his departure. At the race, Lightning initially struggles, but is buoyed by the arrival of his friends from Radiator Springs, who come to his aid in the pit. With Doc now acting as his crew chief, Lightning stages a remarkable comeback. However, Chick employs a PIT maneuver that intentionally damages the King, rendering him unable to continue. Reminded of Doc's crash, Lightning halts just before the finish line, allowing Chick to win, and pushes the King across, allowing him to finish his last race. The crowd and media condemn Chick's victory and praise Lightning's integrity and sportsmanship. Lightning is offered the Dinoco sponsorship, but declines out of newfound loyalty to Rust-eze. Returning to Radiator Springs, he reunites with Sally and declares his intention to establish his racing headquarters there, revitalizing the town.",
                'artist': "Dua Lipa",
            }
        )

